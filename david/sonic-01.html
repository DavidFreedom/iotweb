<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Webduino Blockly - 超音波傳感器</title>
  <!-- webduino -->
<style type="text/css">
#show{
  font-size:50px;
}
</style>
<script src="https://webduino.io/components/webduino-js/dist/webduino-all.min.js"></script>
<script src="https://webduinoio.github.io/webduino-blockly/webduino-blockly.js"></script>

<script language="JavaScript">
  var ultrasonic;
  var led;

boardReady('nbQD', function (board) {
  board.samplingInterval = 20;
  led = getLed(board, 6);
  led.off();
  ultrasonic = getUltrasonic(board, 11, 10);
  ultrasonic.ping(function(cm){
    console.log(ultrasonic.distance);
    document.getElementById("show").innerHTML = ultrasonic.distance;
	if (ultrasonic.distance < 20) {
      led.on();
	  light.src='light_on.jpg';
    } else {
      led.off();
	  light.src='light_off.jpg';
    }
  }, 500);
});

</script>
</head>

<body>

<input type ="button" onclick="history.back()" value="回上一頁"></input><strong> 嵌入式系統 雲端控制元件測試</strong>
<p>範例：在雲端顯示超音波偵測距離 (cm)，偵測距離在20cm內亮燈。</p>
<p>vcc=3.3、Trig=11、Echo=10、G=GDN、正=6、負=GDN</p>
 <center><div id="show">0</div>
 <img name="light" src="light_off.jpg" style="width:100px;height:125px;"></center>
</body>

</html>